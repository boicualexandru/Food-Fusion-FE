<div class="container-fluid" [ngClass]="mapView ? 'mapView' : 'listView'">
    <div class="row">
        <div class="restaurants-list-container py-3" [ngStyle]="{'height': clientHeight - 64 + 'px'}" 
            [ngClass]="mapView ? 'col-md-6 customScrollBar' : 'col-md-12'">
            <div class="card-columns">
                <div *ngFor="let restaurant of restaurants" class="px-1">
                    <mat-card class="d-inline-block my-1 c-pointer card" [routerLink]="'/restaurant/' + restaurant.id">
                        <mat-card-header>
                            <mat-card-title>{{restaurant.name}}</mat-card-title>
                            <mat-card-subtitle>{{restaurant.city}}</mat-card-subtitle>
                        </mat-card-header>
                        <img mat-card-image [src]="restaurant.imageUrl" 
                            onError="this.src='assets/img/restaurant-fallback.png';" alt="{{restaurant.name}}">
                        <mat-card-content>{{restaurant.description}}</mat-card-content>
                    </mat-card>
                </div>
            </div>
            <button *ngIf="mapView" mat-fab (click)="mapView = false" class="view-switch-fab" aria-label="Switch to list view">
                <mat-icon>list</mat-icon>
            </button>
            <button *ngIf="!mapView" mat-fab (click)="mapView = true" class="view-switch-fab" aria-label="Switch to map view">
                <mat-icon>map</mat-icon>
            </button>
        </div>
        <div *ngIf="mapView" class="col-md-6 px-0">
            <agm-map [latitude]="47.1651364" [longitude]="27.5695892" [zoom]="14" [ngStyle]="{'height': clientHeight - 64 + 'px'}">
                <agm-marker *ngFor="let restaurant of restaurants" [latitude]="restaurant.geoLatitude" [longitude]="restaurant.geoLongitude"></agm-marker>
            </agm-map>
        </div>
    </div>
</div>